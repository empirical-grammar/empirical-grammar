(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1322:function(e,t,n){"use strict";var a=n(40),s=n.n(a),l=n(46),i=n.n(l),o=n(56),c=n.n(o),r=n(61),u=n.n(r),h=n(62),p=n.n(h),m=n(6),d=n.n(m),g=n(447),b=n(63),v=n.n(b),C=n(1353),f=function(e){function t(){return s()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),i()(t,[{key:"conceptsToOptions",value:function(){var t=this,e=this.props.concepts.data[0];return this.props.onlyShowConceptsWithConceptFeedback&&(e=v.a.filter(e,function(e){return v.a.keys(t.props.conceptsFeedback.data).includes(e.uid)})),v.a.map(e,function(e){return{label:e.displayName,value:e.uid,shortenedName:e.name}})}},{key:"currentConcept",value:function(){return v.a.find(this.props.concepts.data[0],{uid:this.props.currentConceptUID})}},{key:"placeholder",value:function(){return this.props.currentConceptUID&&0<this.props.currentConceptUID.length&&this.currentConcept()?this.currentConcept().displayName:"Please select a concept."}},{key:"render",value:function(){return d.a.createElement(C.a,{disabled:this.props.selectorDisabled,onChange:this.props.handleSelectorChange,options:this.conceptsToOptions(),placeholder:this.placeholder(),style:{display:"block"}})}}]),t}(d.a.Component);t.a=Object(g.b)(function(e){return{concepts:e.concepts,conceptsFeedback:e.conceptsFeedback}})(f)},1409:function(e,t,n){"use strict";var a=n(40),s=n.n(a),l=n(46),i=n.n(l),o=n(56),c=n.n(o),r=n(61),u=n.n(r),h=n(120),p=n.n(h),m=n(62),d=n.n(m),g=n(6),b=n.n(g),v=n(746),C=n(447),f=n(446),k=n(1322),w=function(e){function t(){var e;return s()(this,t),(e=c()(this,u()(t).call(this))).state={prompt:"",blankAllowed:!1,caseInsensitive:!1,instructions:"",cues:"",newQuestionOptimalResponse:"",itemLevel:"Select Item Level",flag:"alpha",cuesLabel:""},e.toggleQuestionBlankAllowed=e.toggleQuestionBlankAllowed.bind(p()(e)),e.toggleQuestionCaseInsensitive=e.toggleQuestionCaseInsensitive.bind(p()(e)),e.handlePromptChange=e.handlePromptChange.bind(p()(e)),e.handleInstructionsChange=e.handleInstructionsChange.bind(p()(e)),e.handleCuesChange=e.handleCuesChange.bind(p()(e)),e.handleNewQuestionOptimalResponseChange=e.handleNewQuestionOptimalResponseChange.bind(p()(e)),e.handleItemLevelChange=e.handleItemLevelChange.bind(p()(e)),e.handleSelectorChange=e.handleSelectorChange.bind(p()(e)),e.handleFlagChange=e.handleFlagChange.bind(p()(e)),e.handleCuesLabelChange=e.handleCuesLabelChange.bind(p()(e)),e.submit=e.submit.bind(p()(e)),e}return d()(t,e),i()(t,[{key:"componentWillMount",value:function(){this.props.state&&this.setState(this.props.state)}},{key:"handlePromptChange",value:function(e){this.setState({prompt:e})}},{key:"handleInstructionsChange",value:function(e){this.setState({instructions:e.target.value})}},{key:"handleCuesChange",value:function(e){this.setState({cues:e.target.value})}},{key:"handleNewQuestionOptimalResponseChange",value:function(e){this.setState({newQuestionOptimalResponse:e.target.value})}},{key:"handleItemLevelChange",value:function(e){this.setState({itemLevel:e.target.value})}},{key:"handleSelectorChange",value:function(e){this.setState({conceptID:e.value})}},{key:"handleFlagChange",value:function(e){this.setState({flag:e.target.value})}},{key:"handleCuesLabelChange",value:function(e){this.setState({cuesLabel:e.target.value})}},{key:"itemLevelToOptions",value:function(){return Object(f.hashToCollection)(this.props.itemLevels.data).map(function(e){return b.a.createElement("option",{key:e.key},e.name)})}},{key:"toggleQuestionBlankAllowed",value:function(){this.setState({blankAllowed:!this.state.blankAllowed})}},{key:"toggleQuestionCaseInsensitive",value:function(){this.setState(function(e){return{caseInsensitive:!e.caseInsensitive}})}},{key:"submit",value:function(){var e={prompt:this.state.prompt,blankAllowed:!!this.state.blankAllowed&&this.state.blankAllowed,caseInsensitive:!!this.state.caseInsensitive&&this.state.caseInsensitive,cues:this.state.cues.split(","),itemLevel:"Select Item Level"===this.state.itemLevel?"":this.state.itemLevel,instructions:this.state.instructions,conceptID:this.state.conceptID,flag:this.state.flag?this.state.flag:"alpha",cuesLabel:this.state.cuesLabel};this.props.action(e,this.state.newQuestionOptimalResponse)}},{key:"clearForm",value:function(){this.setState({blankAllowed:!1,caseInsensitive:!1,newQuestionPrompt:"",newQuestionOptimalResponse:"",instructions:"",itemLevel:"Select Item Level",conceptID:null,flag:"alpha",cuesLabel:""})}},{key:"renderOptimalField",value:function(){if(!this.props.editing)return b.a.createElement("div",null,b.a.createElement("label",{className:"label"},"Optimal Response"),b.a.createElement("p",{className:"control"},b.a.createElement("input",{className:"input",onChange:this.handleNewQuestionOptimalResponseChange,type:"text",value:this.state.newQuestionOptimalResponse})))}},{key:"renderButtonText",value:function(){return this.props.editing?"Submit Edit":"Add Question"}},{key:"render",value:function(){return b.a.createElement("form",{className:"box",onSubmit:this.submit},b.a.createElement("h6",{className:"control subtitle"},"Create a new question"),b.a.createElement("label",{className:"label"},"Prompt"),b.a.createElement(f.TextEditor,{ContentState:v.ContentState,EditorState:v.EditorState,handleTextChange:this.handlePromptChange,text:this.state.prompt}),b.a.createElement("br",null),b.a.createElement("label",{className:"label"},"Instructions for student"),b.a.createElement("p",{className:"control"},b.a.createElement("textarea",{className:"input",onChange:this.handleInstructionsChange,type:"text",value:this.state.instructions})),b.a.createElement("label",{className:"label"},'Cues Label (default is "joining words"/"joining word" for single cues, enter a space to have no label)'),b.a.createElement("p",{className:"control"},b.a.createElement("input",{className:"input",onChange:this.handleCuesLabelChange,type:"text",value:this.state.cuesLabel})),b.a.createElement("label",{className:"label"},'Cues (separated by commas, no spaces eg "however,therefore,hence")'),b.a.createElement("p",{className:"control"},b.a.createElement("input",{className:"input",onChange:this.handleCuesChange,type:"text",value:this.state.cues})),this.renderOptimalField(),b.a.createElement("label",{className:"label",onClick:this.toggleQuestionBlankAllowed},"Blank Allowed?"),b.a.createElement("p",{className:"control"},b.a.createElement("input",{checked:this.state.blankAllowed,onClick:this.toggleQuestionBlankAllowed,type:"checkbox"})),b.a.createElement("label",{className:"label",onClick:this.toggleQuestionBlankAllowed},"Case Insensitive?"),b.a.createElement("p",{className:"control"},b.a.createElement("input",{checked:this.state.caseInsensitive,onClick:this.toggleQuestionCaseInsensitive,type:"checkbox"})),b.a.createElement("label",{className:"label"},"Item level"),b.a.createElement("p",{className:"control"},b.a.createElement("span",{className:"select"},b.a.createElement("select",{onChange:this.handleItemLevelChange,value:this.state.itemLevel},b.a.createElement("option",{value:"Select Item Level"},"Select Item Level"),this.itemLevelToOptions()))),b.a.createElement(f.FlagDropdown,{flag:this.state.flag,handleFlagChange:this.handleFlagChange,isLessons:!1}),b.a.createElement("label",{className:"label"},"Concept"),b.a.createElement(k.a,{currentConceptUID:this.state.conceptID,handleSelectorChange:this.handleSelectorChange}),b.a.createElement("br",null),b.a.createElement("button",{className:"button is-primary",type:"submit"},this.renderButtonText()))}}]),t}(g.Component);t.a=Object(C.b)(function(e){return{itemLevels:e.itemLevels}})(w)},1442:function(e,t,n){"use strict";n.r(t);var a=n(40),s=n.n(a),l=n(46),i=n.n(l),o=n(56),c=n.n(o),r=n(61),u=n.n(r),h=n(120),p=n.n(h),m=n(62),d=n.n(m),g=n(6),b=n.n(g),v=n(447),C=n(254),f=n(1409),k=function(e){function t(){var e;return s()(this,t),(e=c()(this,u()(t).call(this))).submitNewQuestion=e.submitNewQuestion.bind(p()(e)),e}return d()(t,e),i()(t,[{key:"submitNewQuestion",value:function(e,t){if(""!==e.prompt){var n=e;n.prompt=e.prompt.replace("<p>","").replace("</p>",""),this.props.dispatch(C.a.submitNewQuestion(n,{text:t.trim(),optimal:!0,count:0,feedback:"That's a strong sentence!"}))}}},{key:"render",value:function(){return b.a.createElement(f.a,{action:this.submitNewQuestion})}}]),t}(g.Component);var w=Object(v.b)(function(e){return{}})(k);t.default={path:"new",component:w}}}]);