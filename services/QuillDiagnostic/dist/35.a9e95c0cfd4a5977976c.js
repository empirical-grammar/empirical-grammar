(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1440:function(e,s,t){"use strict";t.r(s);var n=t(6),i=t.n(n),a=t(447),r=t(293),o=t(63),l=t.n(o),c=t(441),u=t(446),p=t(0),m=t(1415);String.prototype.toKebab=function(){return this.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})};var d=i.a.createClass({displayName:"Lesson",questionsForLesson:function(){var n=this,e=this.props.lessons.data,s=this.props.params.lessonID;if(e[s].questions)return l.a.values(e[s].questions).map(function(e){var s=n.props[e.questionType].data,t=Object.assign({},s[e.key]);return t.questionType=e.questionType,t.key=e.key,t})},renderQuestionsForLesson:function(){var e=this.questionsForLesson();if(e){var s=e.map(function(e){var s=e.questionType,t=e.title,n=e.prompt,a=(e.key,("titleCards"===s?t:n)||"No question prompt"),o="fillInBlank"===s?"fill-in-the-blanks":s.toKebab();return i.a.createElement("li",{key:e.key},i.a.createElement(r.Link,{to:"/admin/".concat(o||"questions","/").concat(e.key)},a.replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/gi,"")))});return i.a.createElement("ul",null,s)}return i.a.createElement("ul",null,"No questions")},deleteLesson:function(){var e=this.props.params.lessonID;confirm("do you want to do this?")&&this.props.dispatch(c.a.deleteLesson(e))},cancelEditingLesson:function(){this.props.dispatch(c.a.cancelLessonEdit(this.props.params.lessonID))},saveLessonEdits:function(e){this.props.lessons.data;var s=this.props.params.lessonID,t=e.questions?e.questions.map(function(e){return e.key}):[];this.props.dispatch(c.a.submitLessonEdit(s,e,t))},editLesson:function(){var e=this.props.params.lessonID;this.props.dispatch(c.a.startLessonEdit(e))},renderEditLessonForm:function(){var e=this.props.lessons.data,s=this.props.params.lessonID,t=e[s];if(this.props.lessons.states[s]===p.default.EDITING_LESSON)return i.a.createElement(u.Modal,{close:this.cancelEditingLesson},i.a.createElement(m.a,{currentValues:t,lesson:t,submit:this.saveLessonEdits}))},render:function(){var e=this.props.lessons.data,s=this.props.params.lessonID;if(e[s]){var t=e[s].questions?e[s].questions.length:0;return i.a.createElement("div",null,i.a.createElement(r.Link,{to:"admin/lessons"},"Return to All Activities"),i.a.createElement("br",null),this.renderEditLessonForm(),i.a.createElement("h4",{className:"title"},e[s].name),i.a.createElement("h6",{className:"subtitle"},e[s].flag),i.a.createElement("h6",{className:"subtitle"},t," Questions"),i.a.createElement("h6",{className:"subtitle"},i.a.createElement(r.Link,{to:"play/diagnostic/".concat(s)},"Play Diagnostic")),i.a.createElement("h6",{className:"subtitle"},i.a.createElement(r.Link,{to:"admin/lessons/".concat(s,"/results")},"View Results")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-info",onClick:this.editLesson},"Edit Activity")," ",i.a.createElement("button",{className:"button is-danger",onClick:this.deleteLesson},"Delete Activity")),this.renderQuestionsForLesson())}return!1===this.props.lessons.hasreceiveddata?i.a.createElement("p",null,"Loading..."):i.a.createElement("p",null,"404: No Concept Found")}});var h=Object(a.b)(function(e){return{lessons:e.lessons,questions:e.questions,routing:e.routing,sentenceFragments:e.sentenceFragments,fillInBlank:e.fillInBlank,titleCards:e.titleCards}})(d);s.default={path:":lessonID",component:h}}}]);