(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1441:function(e,t,n){"use strict";n.r(t);var s=n(6),a=n.n(s),o=n(446),r=n(447),i=n(63),l=n.n(i),c=n(47).a.child("sessions"),u={container:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid grey",margin:"10px 0",fontSize:18},column:{display:"flex",flexDirection:"column",justifyContent:"space-between"},name:{},score:{},response:{margin:"5px 0"}},d=a.a.createClass({displayName:"Lesson",componentWillMount:function(){var t=this;c.orderByChild("lessonID").startAt(this.props.params.lessonID).endAt(this.props.params.lessonID).once("value").then(function(e){t.setState({sessions:e.val()})})},getInitialState:function(){return{sessions:[],modalSession:null}},answeredCorrectly:function(e){var t=l.a.last(e.attempts);return t.found&&t.response.optimal||!1},getPercentageScore:function(e){var n=this;return l.a.reduce(e,function(e,t){return e+(n.answeredCorrectly(t)?1:0)},0)+"/"+e.length},showModal:function(e){this.setState({modalSession:e})},closeModal:function(){this.setState({modalSession:null})},renderSessionList:function(){var t=this;return l.a.map(this.state.sessions,function(e){return a.a.createElement("li",{key:e.key,onClick:t.showModal.bind(null,e),style:u.container},a.a.createElement("div",null,e.name),a.a.createElement("div",null,t.getPercentageScore(e.questions)))})},renderStudentAttempts:function(e){return l.a.map(e,function(e){return a.a.createElement("div",{style:u.response},e.submitted)})},renderStudentResponses:function(e){var t=this;return l.a.map(e.questions,function(e){return a.a.createElement("li",{style:u.container},a.a.createElement("div",null,t.props.concepts.data[e.conceptID].name),a.a.createElement("div",{style:u.column},t.renderStudentAttempts(e.attempts)))})},renderModal:function(){if(this.state.modalSession)return a.a.createElement(o.Modal,{close:this.closeModal},a.a.createElement("div",{className:"box"},a.a.createElement("h4",{className:"title"},this.state.modalSession.name),a.a.createElement("ul",null,this.renderStudentResponses(this.state.modalSession))))},render:function(){return a.a.createElement("div",null,a.a.createElement("ul",null,this.renderSessionList()),this.renderModal())}});var m=Object(r.b)(function(e){return{concepts:e.concepts,lessons:e.lessons,questions:e.questions,routing:e.routing}})(d);t.default={path:":lessonID/results",component:m}}}]);